<!DOCTYPE html>
<html>
 <style type="text/css">body{margin:40px
auto;max-width:650px;line-height:1.6;font-size:18px;color:#444;padding:0
10px}h1,h2,h3{line-height:1.2}</style>
<title>TY-M dev adventures</title>

<xmp theme="journal" style="display:none;">
# TY-M ideas

## Slowly-changing dimension handling for dim_line_item
**2016-05-09**

 - Hold table load is somewhat incremental already: all modified items get added on to the hold table (not really distinguished from prior versions, but we can use last_modified_date_time for that)
 - So, pull for dim_line_item update begins by taking all records with most recent created_at timestamps from hold_dfp_line_item.
 - These can be inserted directly to dim_line_item, with current_date as effective_dt and created_at
 - Then find line_item_code values that match newly-inserted rows, with prior created_at and NULL effective_end_dt
 - update effective_end_dt of those rows with current_date

</xmp>

<script src="http://strapdownjs.com/v/0.2/strapdown.js"></script>
</html>
